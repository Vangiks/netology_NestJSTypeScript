<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>WebSocket demo</title>
</head>

<body>
    <script src="/node_modules/socket.io/client-dist/socket.io.js"></script>
    <script type="application/javascript">
        const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoi0JIiLCJlbWFpbCI6ImZyZW56QHlhLnJ1Iiwicm9sZSI6ImNsaWVudCIsImlhdCI6MTY3MTkwNjY2MCwiZXhwIjoxNjcxOTkzMDYwfQ.xmOerRVXw8coNwWAEe1ICWQOufBt3LOxYM6nlgVCX5w'

        const chatId = '63a4009dd19f600631cabe07';

        const socket = io.connect('localhost:3000', {
            extraHeaders: {
                Authorization: `Bearer ${token}`,
            },
        });

        socket.emit('subscribeToChat', chatId, (answer) => {
            console.log(answer);
        });

        socket.on('error', console.log)
    </script>
</body>

</html>